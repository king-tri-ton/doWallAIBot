![Screenshot_6](https://github.com/king-tri-ton/doWallAIBot/assets/53092931/f010cf7a-0940-4fed-8387-e237ad487f15)

**Телеграм-бот для создания обоев на основе текстового описания с использованием OpenAI API**

---

Это телеграм-бот предназначен для создания обоев для устройств на основе текстового описания, используя модель генерации изображений от OpenAI. Пользователи могут отправлять текстовые описания, а бот использует API OpenAI для генерации изображений, которые затем отправляются обратно пользователю в качестве обоев.

---

**Установка и настройка:**

1. **Установите зависимости:**

   Перед началом использования убедитесь, что у вас установлены все необходимые зависимости. Вы можете установить их, выполнив следующую команду:

   ```
   pip install -r requirements.txt
   ```

2. **Регистрация бота в Telegram:**

   - Зарегистрируйте нового бота в Telegram, следуя инструкциям [здесь](https://core.telegram.org/bots#botfather).
   - Получите токен бота от BotFather и сохраните его.

3. **Получение API-ключа OpenAI:**

   - Зарегистрируйтесь на [сайте OpenAI](https://openai.com/).
   - Получите API-ключ, выбрав нужный тарифный план.

4. **Настройка файла конфигурации:**

   - Создайте файл `config.py` на основе `exp.config.py`.
   - Заполните поля `AI_TOKEN` (API-ключ OpenAI), `BOT_TOKEN` (токен бота Telegram) и `ADMIN_ID` (ID администратора бота).

5. **Запуск бота:**

   - После настройки всех необходимых параметров запустите файл `bot.py`:

   ```
   python bot.py
   ```

---

**Использование:**

1. **Команда /start:**

   - Начните общение с ботом, отправив команду `/start`.
   - После выполнения этой команды бот начнет ожидать от вас текстовое описание для создания обоев.

2. **Отправка текстового описания:**

   - После отправки команды `/start` отправьте боту текстовое описание, которое вы хотите преобразовать в обои.
   - Бот начнет процесс генерации изображения на основе вашего описания.

3. **Команда /stats:**

   - Для получения статистики использования бота отправьте команду `/stats`.
   - Эта команда доступна только администратору бота.

4. **Получение обоев:**

   - После генерации изображения бот отправит вам результат в виде обоев для вашего устройства.

---

**Примечание:**

- Перед использованием убедитесь, что у вас установлены все необходимые библиотеки и вы заполнили файл `config.py` корректно.
- Пожалуйста, обратите внимание, что использование OpenAI API может потребовать дополнительных платежей в зависимости от вашего тарифного плана.
- Этот бот предоставляется "как есть" без каких-либо гарантий или обязательств. Вы используете его на свой страх и риск.

---

## Changelog (Журнал событий)

## Версия 2.0.0

- `exp.config.py`
    - **Добавлена** переменная `IMAGE_FOLDER` которая содержит путь к папке для сохранения изображений.
- `bot.py`
    - **Добавлена** проверка длины входящего текстового сообщения перед его обработкой, чтобы убедиться, что текст не менее 10 символов.
    - **Добавлена** проверка на возникновение исключений при генерации изображения с использованием OpenAI. В случае возникновения ошибки, пользователю отправляется сообщение с просьбой повторить запрос или связаться с разработчиком.
    - **Изменена** логика сохранения изображения: теперь изображение скачивается и сохраняется в указанную папку `images` с именем в формате `<tg_id>_<message_id>.png`.
    - **Изменен** метод отправки изображения пользователю: теперь изображение отправляется как файловый объект, а не по URL.
- `db.py`
    - В функции `add_user(tg_id)` добавлена обработка исключений для предотвращения возможных ошибок при добавлении пользователя в базу данных.

---

**Авторы:**

Автор: King Triton

**Лицензия:**

Этот проект распространяется под лицензией [MIT](https://choosealicense.com/licenses/mit/).

---

Если у вас возникли вопросы или предложения по улучшению проекта, не стесняйтесь связаться со мной по адресу mdolmatov99@gmail.com или телеграм [@king_triton](https://t.me/king_triton). Благодарю за использование моего бота!


